[gd_scene load_steps=5 format=3 uid="uid://di7b5p2qjeych"]

[ext_resource type="TileSet" uid="uid://cokllca8dc6h3" path="res://assets/prelim/tiles/prelim_tiles.tres" id="1_xfal2"]
[ext_resource type="PackedScene" uid="uid://biejvu5ndljmx" path="res://elements/player/Player.tscn" id="2_y05u4"]
[ext_resource type="PackedScene" uid="uid://b3npe5j63l27w" path="res://elements/stage/Door.tscn" id="3_wjvya"]
[ext_resource type="PackedScene" uid="uid://dkwrathnvna2f" path="res://elements/stage/Button.tscn" id="4_fi0p4"]

[node name="testLevel" type="Node2D"]

[node name="Map" type="TileMap" parent="."]
tile_set = ExtResource("1_xfal2")
format = 2
layer_0/tile_data = PackedInt32Array(0, 1, 0, 65536, 1, 1, 131072, 1, 0, 196608, 1, 1, 262144, 1, 0, 393216, 1, 0, 458752, 1, 1, 524288, 1, 0, 589824, 1, 1, 655360, 1, 0, 720896, 1, 1, 851968, 1, 0, 786432, 1, 0, 917504, 1, 1, 983040, 1, 0, 1048576, 1, 1, 1114112, 1, 0, 327680, 1, 0, 524323, 65537, 0, 21, 65537, 0, 35, 65537, 0, 1, 65537, 0, 2, 1, 0, 3, 65537, 0, 4, 1, 0, 5, 65537, 0, 6, 1, 0, 7, 65537, 0, 8, 1, 0, 9, 65537, 0, 10, 1, 0, 11, 65537, 0, 12, 1, 0, 13, 65537, 0, 14, 1, 0, 15, 65537, 0, 16, 1, 0, 17, 65537, 0, 18, 1, 0, 19, 65537, 0, 20, 1, 0, 22, 1, 0, 23, 65537, 0, 24, 1, 0, 25, 65537, 0, 26, 1, 0, 27, 65537, 0, 28, 1, 0, 29, 65537, 0, 30, 1, 0, 31, 65537, 0, 32, 1, 0, 33, 65537, 0, 34, 1, 0, 1179648, 1, 0, 1310720, 1, 0, 1245184, 1, 0, 1376256, 1, 0, 1310755, 1, 1, 1376291, 1, 0, 983041, 1, 0, 983042, 65537, 0, 983043, 1, 0, 983044, 65537, 0, 524289, 1, 0, 524290, 65537, 0, 524291, 1, 0, 524292, 65537, 0, 1441792, 1, 0, 1507328, 1, 1, 1572864, 1, 0, 1638400, 1, 1, 1703936, 1, 0, 1769472, 1, 1, 1835008, 1, 0, 1900544, 1, 1, 1376265, 1, 0, 1376266, 65537, 0, 1114117, 1, 0, 1048580, 1, 0, 1114116, 1, 1, 983051, 1, 1, 1048587, 1, 0, 1114123, 1, 1, 1179659, 1, 0, 1245195, 1, 1, 1310731, 1, 0, 1376267, 1, 0, 524299, 1, 0, 589835, 1, 0, 655371, 1, 1, 720907, 1, 0, 786443, 1, 1, 851979, 1, 0, 917515, 1, 1, 458763, 1, 0, 458756, 1, 0, 131076, 1, 1, 196612, 1, 0, 262148, 1, 1, 327684, 1, 0, 393220, 1, 1, 65540, 1, 0, 1572881, 1, 0, 1572882, 65537, 0, 1572883, 1, 0, 1572884, 65537, 0, 786448, 1, 0, 786449, 65537, 0, 1179660, 1, 0, 1179661, 65537, 0, 1966080, 1, 0, 1966081, 65537, 0, 1966082, 1, 0, 1966083, 65537, 0, 1966084, 1, 0, 1966085, 65537, 0, 1966086, 1, 0, 1966087, 65537, 0, 1966088, 1, 0, 1966089, 65537, 0, 1966090, 1, 0, 1966091, 65537, 0, 1966092, 1, 0, 1966093, 65537, 0, 1966094, 1, 0, 1966095, 65537, 0, 1966096, 1, 0, 1966097, 65537, 0, 1966098, 1, 0, 1966099, 65537, 0, 1966100, 1, 0, 1966101, 65537, 0, 1966102, 1, 0, 1966103, 65537, 0, 1966104, 1, 0, 1966105, 65537, 0, 1966106, 1, 0, 1966107, 65537, 0, 1966108, 1, 0, 1966109, 65537, 0, 1966110, 1, 0, 1966111, 65537, 0, 1966112, 1, 0, 1966113, 65537, 0, 1966114, 1, 0, 1966115, 65537, 0, 1441827, 1, 0, 1507363, 1, 1, 1572899, 1, 0, 1638435, 1, 1, 1703971, 1, 0, 1769507, 1, 1, 1835043, 1, 0, 1900579, 1, 1, 524321, 65537, 0, 524322, 1, 0, 65571, 1, 0, 1245215, 1, 0, 1245216, 65537, 0, 1245217, 1, 0, 1245219, 1, 0, 1245214, 65537, 0, 524317, 1, 0, 524314, 1, 0, 524315, 1, 0, 524316, 65537, 0, 786458, 1, 0, 851994, 1, 1, 917530, 1, 0, 983066, 1, 1, 1048602, 1, 0, 1114138, 1, 1, 1179674, 1, 0, 1245210, 1, 1, 1310746, 1, 0, 1376282, 1, 1, 1441818, 1, 0, 1507354, 1, 1, 589850, 1, 1, 655386, 1, 0, 720922, 1, 1, 589857, 1, 0, 655393, 1, 1, 720929, 1, 0, 786465, 1, 1, 852001, 1, 0, 917537, 1, 1, 983073, 1, 0, 1048609, 1, 1, 1114145, 1, 0, 1179681, 1, 1, 589859, 1, 0, 655395, 1, 1, 720931, 1, 0, 786467, 1, 1, 852003, 1, 0, 917539, 1, 1, 983075, 1, 0, 1048611, 1, 1, 1114147, 1, 0, 1179683, 1, 1, 1245218, 1, 0, 524324, 1, 0, 524325, 65537, 0, 524326, 1, 0, 524327, 65537, 0, 524328, 1, 0, 524329, 1, 0, 36, 1, 0, 37, 65537, 0, 38, 1, 0, 39, 65537, 0, 40, 1, 0, 41, 65537, 0, 42, 1, 0, 43, 65537, 0, 44, 1, 0, 45, 65537, 0, 65581, 1, 0, 131117, 1, 1, 196653, 1, 0, 262189, 1, 1, 327725, 1, 0, 393261, 1, 1, 458797, 1, 0, 524333, 1, 1, 589869, 1, 0, 655405, 1, 1, 720941, 1, 0, 786477, 1, 1, 852013, 1, 0, 589865, 1, 1, 655401, 1, 0, 720937, 1, 1, 786473, 1, 0, 852009, 1, 1, 917545, 1, 0, 983081, 1, 1, 1048617, 1, 0, 1114153, 1, 1, 1179689, 1, 0, 1245225, 1, 1, 1310761, 1, 0, 1376297, 1, 1, 1441833, 1, 0, 1507369, 1, 1, 1572905, 1, 0, 1638441, 1, 1, 1703977, 1, 0, 1769513, 1, 1, 1835049, 1, 0, 1900585, 1, 1, 1966121, 1, 0, 2031657, 1, 1, 2097193, 1, 0, 2162729, 1, 1, 2228265, 1, 0, 2293801, 1, 1, 2359337, 1, 0, 2424873, 1, 1, 2490409, 1, 0, 2555945, 1, 1, 2621481, 1, 0, 2687017, 1, 1, 2752553, 1, 0, 2818089, 1, 1, 2883625, 1, 0, 2949161, 1, 1, 3014697, 1, 0, 917549, 1, 1, 983085, 1, 0, 1048621, 1, 1, 1114157, 1, 0, 1179693, 1, 1, 1245229, 1, 0, 1310765, 1, 1, 1376301, 1, 0, 1441837, 1, 1, 1507373, 1, 0, 1572909, 1, 1, 1638445, 1, 0, 1703981, 1, 1, 1769517, 1, 0, 1835053, 1, 1, 1900589, 1, 0, 1966125, 1, 1, 2031661, 1, 0, 2097197, 1, 1, 2162733, 1, 0, 2228269, 1, 1, 2293805, 1, 0, 2359341, 1, 1, 2424877, 1, 0, 2490413, 1, 1, 2555949, 1, 0, 2621485, 1, 1, 2687021, 1, 0, 2752557, 1, 1, 2818093, 1, 0, 2883629, 1, 1, 2949165, 1, 0, 3014701, 1, 1, 3080233, 1, 1, 3145769, 1, 0, 3211305, 1, 1, 3276841, 1, 0, 3342377, 1, 1, 3407913, 1, 0, 3473449, 1, 0, 3473450, 65537, 0, 3473451, 1, 0, 3473452, 65537, 0, 3473453, 1, 0, 3473454, 65537, 0, 3473455, 1, 0, 3473456, 65537, 0, 3473457, 1, 0, 3473458, 65537, 0, 3473459, 1, 0, 3473460, 65537, 0, 3014702, 1, 0, 3014703, 65537, 0, 3014704, 1, 0, 3014705, 65537, 0, 3014706, 1, 0, 3014707, 65537, 0, 3014708, 1, 0, 3473461, 1, 0, 3473462, 65537, 0, 3473463, 1, 0, 3473464, 65537, 0, 3473465, 1, 0, 3473466, 65537, 0, 3473467, 1, 0, 3014709, 1, 0, 3014710, 1, 1, 3473468, 65537, 0, 3473470, 65537, 0, 3473471, 1, 0, 3473472, 65537, 0, 3473473, 1, 0, 3473474, 65537, 0, 3473475, 65537, 0, 3473476, 1, 0, 3473477, 65537, 0, 3473478, 1, 0, 3473479, 65537, 0, 3473480, 1, 0, 3473481, 65537, 0, 3473482, 1, 1, 3473483, 65537, 1, 3473484, 1, 1, 3473485, 65537, 0, 3473486, 1, 0, 3473487, 65537, 0, 3473488, 1, 1, 3473489, 65537, 1, 3473490, 1, 1, 3473491, 1, 0, 3473492, 65537, 0, 3473493, 1, 0, 3473494, 65537, 0, 3473495, 1, 0, 3473496, 65537, 0, 3473497, 1, 0, 3473498, 65537, 0, 3473499, 1, 0, 3473500, 65537, 0, 3473501, 1, 0, 3473502, 65537, 0, 3473503, 1, 0, 3473504, 65537, 0, 3473505, 1, 0, 3473506, 65537, 0, 3473507, 1, 0, 3473508, 65537, 0, 3473509, 1, 0, 3473510, 65537, 0, 3473511, 1, 0, 3473512, 65537, 0, 3473513, 1, 0, 3473514, 65537, 0, 3473515, 1, 0, 3473516, 65537, 0, 3473517, 1, 0, 3473518, 65537, 0, 3473519, 1, 0, 3473520, 65537, 0, 3473521, 1, 0, 3473522, 65537, 0, 3473523, 1, 0, 3473524, 65537, 0, 3473525, 1, 0, 3473469, 1, 0, 3014711, 1, 0, 3014712, 65537, 0, 3014713, 1, 0, 3014714, 65537, 0, 3014715, 1, 0, 3014716, 65537, 0, 3014717, 1, 0, 3014718, 65537, 0, 3014719, 1, 0, 3014720, 65537, 0, 3014721, 1, 0, 3014722, 65537, 0, 3014723, 1, 0, 3014724, 65537, 0, 3014725, 1, 0, 3014726, 65537, 0, 3014727, 1, 0, 3014728, 65537, 0, 3014729, 1, 0, 3014730, 65537, 0, 3014731, 1, 0, 3014732, 65537, 0, 3014733, 1, 0, 3014734, 65537, 0, 3014735, 1, 0, 3014736, 65537, 0, 3014737, 1, 0, 3014738, 65537, 0, 3014739, 1, 0, 3014740, 65537, 0, 3014741, 1, 0, 3014742, 65537, 0, 3014743, 1, 0, 3014744, 65537, 0, 3014745, 1, 0, 3014746, 65537, 0, 3014747, 1, 0, 2621524, 65537, 0, 2687060, 1, 0, 2752596, 1, 1, 2818132, 1, 0, 2883668, 1, 1, 2949204, 1, 0, 2228308, 1, 0, 2293844, 1, 1, 2359380, 1, 0, 2424916, 1, 1, 2490452, 1, 0, 2555988, 1, 1, 2949211, 1, 0, 2555989, 1, 0, 2555990, 65537, 0, 2555991, 1, 0, 2555992, 65537, 0, 2555993, 1, 0, 2555994, 65537, 0, 2162772, 1, 0, 2162779, 65537, 0, 2097236, 1, 0, 2097237, 65537, 0, 2097238, 1, 0, 2097239, 65537, 0, 2097240, 1, 0, 2097241, 65537, 0, 2097242, 1, 0, 2097243, 65537, 0, 3014753, 65537, 0, 2555996, 1, 0, 2555997, 65537, 0, 1835099, 1, 0, 1900635, 1, 1, 1966171, 1, 0, 2031707, 1, 1, 1835100, 1, 0, 1835101, 65537, 0, 1835102, 1, 0, 1835103, 65537, 0, 1835104, 1, 0, 1835105, 65537, 0, 1835106, 1, 0, 1835107, 65537, 0, 1835108, 1, 0, 1835109, 65537, 0, 1835110, 1, 0, 1835111, 65537, 0, 1835112, 1, 0, 1835113, 65537, 0, 3014754, 1, 0, 3014755, 1, 0, 3014756, 65537, 0, 2556008, 1, 0, 2556009, 65537, 0, 1900650, 1, 0, 1966186, 1, 1, 2031722, 1, 0, 2097258, 1, 1, 2162794, 1, 0, 1835114, 1, 0, 2097259, 1, 0, 2097260, 65537, 0, 2097261, 1, 0, 2097262, 65537, 0, 2097263, 1, 0, 2097264, 65537, 0, 2097265, 1, 0, 2556011, 1, 0, 2556012, 65537, 0, 2556013, 1, 0, 2556014, 65537, 0, 2556015, 1, 0, 2556016, 65537, 0, 2556017, 1, 0, 2162801, 1, 0, 2228337, 1, 1, 2293873, 1, 0, 2359409, 1, 1, 2424945, 1, 0, 2490481, 1, 1, 2621553, 1, 1, 2687089, 1, 0, 2752625, 1, 1, 2818161, 1, 0, 2883697, 1, 1, 2949233, 1, 0, 3014769, 65537, 0, 3014762, 1, 0, 3014763, 65537, 0, 3014764, 1, 0, 3014765, 65537, 0, 3014766, 1, 0, 3014767, 65537, 0, 3014768, 1, 0, 2949226, 1, 0, 3014770, 1, 0, 3014771, 65537, 0, 3014772, 1, 0, 3014773, 65537, 0, 2293858, 1, 0, 2293859, 65537, 0)

[node name="Player" parent="." instance=ExtResource("2_y05u4")]
position = Vector2(2150, 2360)

[node name="Door" parent="." instance=ExtResource("3_wjvya")]
position = Vector2(200, 450)

[node name="Button" parent="." instance=ExtResource("4_fi0p4")]
position = Vector2(1550, 950)

[node name="Line2D" type="Line2D" parent="Button"]
position = Vector2(-1550, -950)
points = PackedVector2Array(1550, 900, 1400, 900, 1400, 1300, 350, 1300, 350, 700, 250, 700)
default_color = Color(0, 1, 0, 1)
joint_mode = 1
begin_cap_mode = 1
end_cap_mode = 1

[node name="Door2" parent="." instance=ExtResource("3_wjvya")]
position = Vector2(1750, 100)

[node name="Button2" parent="." instance=ExtResource("4_fi0p4")]
position = Vector2(100, 750)

[node name="Line2D" type="Line2D" parent="Button2"]
points = PackedVector2Array(0, -50, 0, -100, 250, -100, 250, -450, 1650, -450)
default_color = Color(0, 0, 1, 1)
joint_mode = 1
begin_cap_mode = 1
end_cap_mode = 1

[node name="Door3" parent="." instance=ExtResource("3_wjvya")]
position = Vector2(4550, 1700)

[node name="Door4" parent="." instance=ExtResource("3_wjvya")]
position = Vector2(5300, 1700)

[node name="Button3" parent="." instance=ExtResource("4_fi0p4")]
position = Vector2(5600, 2300)

[node name="Button4" parent="." instance=ExtResource("4_fi0p4")]
position = Vector2(5600, 1950)

[node name="Button5" parent="." instance=ExtResource("4_fi0p4")]
position = Vector2(4300, 2300)

[node name="Button6" parent="." instance=ExtResource("4_fi0p4")]
position = Vector2(4300, 1950)

[node name="Door5" parent="." instance=ExtResource("3_wjvya")]
position = Vector2(5700, 2350)

[node name="Door6" parent="." instance=ExtResource("3_wjvya")]
position = Vector2(5750, 2350)

[node name="Door7" parent="." instance=ExtResource("3_wjvya")]
position = Vector2(5850, 2350)

[node name="Door8" parent="." instance=ExtResource("3_wjvya")]
position = Vector2(5800, 2350)

[connection signal="pressed" from="Button" to="Door" method="open_door"]
[connection signal="pressed" from="Button2" to="Door2" method="open_door"]
[connection signal="pressed" from="Button3" to="Door3" method="open_door"]
[connection signal="pressed" from="Button3" to="Door5" method="open_door"]
[connection signal="pressed" from="Button4" to="Door3" method="close_door"]
[connection signal="pressed" from="Button4" to="Door6" method="open_door"]
[connection signal="pressed" from="Button5" to="Door7" method="open_door"]
[connection signal="pressed" from="Button6" to="Door4" method="open_door"]
[connection signal="pressed" from="Button6" to="Door8" method="open_door"]
